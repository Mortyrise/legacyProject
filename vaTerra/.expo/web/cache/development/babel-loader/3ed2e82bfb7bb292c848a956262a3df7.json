{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport hasMediaLibraryPermissionGranted from \"./imagePickerPermission\";\nimport ImagePicker from \"../components/ImagePicker\";\n\nvar uploadImageFromDevice = function _callee() {\n  var imgURI, storagePermissionGranted, result;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          imgURI = null;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(hasMediaLibraryPermissionGranted());\n\n        case 3:\n          storagePermissionGranted = _context.sent;\n\n          if (storagePermissionGranted) {\n            _context.next = 6;\n            break;\n          }\n\n          return _context.abrupt(\"return\", imgURI);\n\n        case 6:\n          _context.next = 8;\n          return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n            mediaTypes: ImagePicker.MediaTypeOptions.Images,\n            allowsEditing: true,\n            aspect: [4, 4],\n            quality: 1\n          }));\n\n        case 8:\n          result = _context.sent;\n\n          if (!result.cancelled) {\n            imgURI = result.uri;\n          }\n\n          return _context.abrupt(\"return\", imgURI);\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default uploadImageFromDevice;","map":{"version":3,"names":["hasMediaLibraryPermissionGranted","ImagePicker","uploadImageFromDevice","imgURI","storagePermissionGranted","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","result","cancelled","uri"],"sources":["/home/joanmarc/Escriptori/coding/soloProject/vaTerra-plant-project/vaTerra/utils/uploadImageFromDevice.js"],"sourcesContent":["import hasMediaLibraryPermissionGranted from './imagePickerPermission';\nimport ImagePicker from '../components/ImagePicker';\n\nconst uploadImageFromDevice = async () => {\n  let imgURI = null;\n  const storagePermissionGranted = await hasMediaLibraryPermissionGranted();\n\n  // Discard execution when  media library permission denied\n  if (!storagePermissionGranted) return imgURI;\n\n  let result = await ImagePicker.launchImageLibraryAsync({\n    mediaTypes: ImagePicker.MediaTypeOptions.Images,\n    allowsEditing: true,\n    aspect: [4, 4],\n    quality: 1,\n  });\n\n  if (!result.cancelled) {\n    imgURI = result.uri;\n  }\n\n  return imgURI;\n};\n\nexport default uploadImageFromDevice;\n"],"mappings":";AAAA,OAAOA,gCAAP;AACA,OAAOC,WAAP;;AAEA,IAAMC,qBAAqB,GAAG;EAAA;EAAA;IAAA;MAAA;QAAA;UACxBC,MADwB,GACf,IADe;UAAA;UAAA,iCAEWH,gCAAgC,EAF3C;;QAAA;UAEtBI,wBAFsB;;UAAA,IAKvBA,wBALuB;YAAA;YAAA;UAAA;;UAAA,iCAKUD,MALV;;QAAA;UAAA;UAAA,iCAOTF,WAAW,CAACI,uBAAZ,CAAoC;YACrDC,UAAU,EAAEL,WAAW,CAACM,gBAAZ,CAA6BC,MADY;YAErDC,aAAa,EAAE,IAFsC;YAGrDC,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,CAH6C;YAIrDC,OAAO,EAAE;UAJ4C,CAApC,CAPS;;QAAA;UAOxBC,MAPwB;;UAc5B,IAAI,CAACA,MAAM,CAACC,SAAZ,EAAuB;YACrBV,MAAM,GAAGS,MAAM,CAACE,GAAhB;UACD;;UAhB2B,iCAkBrBX,MAlBqB;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAA9B;;AAqBA,eAAeD,qBAAf"},"metadata":{},"sourceType":"module"}