{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Input } from \"react-native-web/dist/index\";\nimport { SearchBar } from 'react-native-elements';\nimport DocumentPicker from 'react-native-document-picker';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction AddPlant() {\n  var handleChange = function handleChange(possiblePlant) {};\n\n  var handleClear = function handleClear() {};\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      singleFile = _useState2[0],\n      setSingleFile = _useState2[1];\n\n  var uploadImage = function _callee() {\n    var fileToUpload, data, res, responseJson;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(singleFile != null)) {\n              _context.next = 14;\n              break;\n            }\n\n            fileToUpload = singleFile;\n            data = new FormData();\n            data.append('name', 'Image Upload');\n            data.append('file_attachment', fileToUpload);\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(fetch('http://localhost/upload.php', {\n              method: 'post',\n              body: data,\n              headers: {\n                'Content-Type': 'multipart/form-data; '\n              }\n            }));\n\n          case 7:\n            res = _context.sent;\n            _context.next = 10;\n            return _regeneratorRuntime.awrap(res.json());\n\n          case 10:\n            responseJson = _context.sent;\n\n            if (responseJson.status == 1) {\n              alert('Upload Successful');\n            }\n\n            _context.next = 15;\n            break;\n\n          case 14:\n            alert('Please Select File first');\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(View, {\n    style: {\n      alignItems: 'center',\n      justifyContent: 'center',\n      flex: 1\n    },\n    children: [_jsx(Text, {\n      children: \"Add plant to your hibernacle\"\n    }), _jsx(Input, {\n      children: \" plant's nickname\"\n    }), _jsx(SearchBar, {\n      round: true,\n      searchIcon: {\n        size: 24\n      },\n      onChangeText: function onChangeText(text) {\n        return handleChange(text);\n      },\n      onClear: function onClear(text) {\n        return handleClear(text);\n      },\n      placeholder: \"Search by plant common name\"\n    })]\n  });\n}\n\nexport default AddPlant;","map":{"version":3,"names":["React","useState","useEffect","Input","SearchBar","DocumentPicker","AddPlant","handleChange","possiblePlant","handleClear","singleFile","setSingleFile","uploadImage","fileToUpload","data","FormData","append","fetch","method","body","headers","res","json","responseJson","status","alert","alignItems","justifyContent","flex","size","text"],"sources":["/home/joanmarc/Escriptori/coding/soloProject/vaTerra-plant-project/vaTerra/screens/addPlant.screen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, Input } from 'react-native';\nimport { SearchBar } from 'react-native-elements';\nimport DocumentPicker from 'react-native-document-picker';\n\nfunction AddPlant() {\n  const handleChange = (possiblePlant) => {};\n  const handleClear = () => {};\n  const [singleFile, setSingleFile] = useState(null);\n\n  const uploadImage = async () => {\n    if (singleFile != null) {\n      const fileToUpload = singleFile;\n      const data = new FormData();\n      data.append('name', 'Image Upload');\n      data.append('file_attachment', fileToUpload);\n      // Please change file upload URL\n      let res = await fetch('http://localhost/upload.php', {\n        method: 'post',\n        body: data,\n        headers: {\n          'Content-Type': 'multipart/form-data; ',\n        },\n      });\n      let responseJson = await res.json();\n      if (responseJson.status == 1) {\n        alert('Upload Successful');\n      }\n    } else {\n      alert('Please Select File first');\n    }\n  };\n\n  return (\n    <View style={{ alignItems: 'center', justifyContent: 'center', flex: 1 }}>\n      <Text>Add plant to your hibernacle</Text>\n      <Input> plant's nickname</Input>\n      <SearchBar\n        round\n        searchIcon={{ size: 24 }}\n        onChangeText={(text) => handleChange(text)}\n        onClear={(text) => handleClear(text)}\n        placeholder=\"Search by plant common name\"\n        // value={search}\n      />\n    </View>\n  );\n}\nexport default AddPlant;\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;SACqBC,K;AACrB,SAASC,SAAT,QAA0B,uBAA1B;AACA,OAAOC,cAAP,MAA2B,8BAA3B;;;;AAEA,SAASC,QAAT,GAAoB;EAClB,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,aAAD,EAAmB,CAAE,CAA1C;;EACA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM,CAAE,CAA5B;;EACA,gBAAoCR,QAAQ,CAAC,IAAD,CAA5C;EAAA;EAAA,IAAOS,UAAP;EAAA,IAAmBC,aAAnB;;EAEA,IAAMC,WAAW,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA,MACdF,UAAU,IAAI,IADA;cAAA;cAAA;YAAA;;YAEVG,YAFU,GAEKH,UAFL;YAGVI,IAHU,GAGH,IAAIC,QAAJ,EAHG;YAIhBD,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoB,cAApB;YACAF,IAAI,CAACE,MAAL,CAAY,iBAAZ,EAA+BH,YAA/B;YALgB;YAAA,iCAOAI,KAAK,CAAC,6BAAD,EAAgC;cACnDC,MAAM,EAAE,MAD2C;cAEnDC,IAAI,EAAEL,IAF6C;cAGnDM,OAAO,EAAE;gBACP,gBAAgB;cADT;YAH0C,CAAhC,CAPL;;UAAA;YAOZC,GAPY;YAAA;YAAA,iCAcSA,GAAG,CAACC,IAAJ,EAdT;;UAAA;YAcZC,YAdY;;YAehB,IAAIA,YAAY,CAACC,MAAb,IAAuB,CAA3B,EAA8B;cAC5BC,KAAK,CAAC,mBAAD,CAAL;YACD;;YAjBe;YAAA;;UAAA;YAmBhBA,KAAK,CAAC,0BAAD,CAAL;;UAnBgB;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAApB;;EAuBA,OACE,MAAC,IAAD;IAAM,KAAK,EAAE;MAAEC,UAAU,EAAE,QAAd;MAAwBC,cAAc,EAAE,QAAxC;MAAkDC,IAAI,EAAE;IAAxD,CAAb;IAAA,WACE,KAAC,IAAD;MAAA;IAAA,EADF,EAEE,KAAC,KAAD;MAAA;IAAA,EAFF,EAGE,KAAC,SAAD;MACE,KAAK,MADP;MAEE,UAAU,EAAE;QAAEC,IAAI,EAAE;MAAR,CAFd;MAGE,YAAY,EAAE,sBAACC,IAAD;QAAA,OAAUvB,YAAY,CAACuB,IAAD,CAAtB;MAAA,CAHhB;MAIE,OAAO,EAAE,iBAACA,IAAD;QAAA,OAAUrB,WAAW,CAACqB,IAAD,CAArB;MAAA,CAJX;MAKE,WAAW,EAAC;IALd,EAHF;EAAA,EADF;AAcD;;AACD,eAAexB,QAAf"},"metadata":{},"sourceType":"module"}